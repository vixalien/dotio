"use strict";function e(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(s){if("default"!==s){var t=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,t.get?t:{enumerable:!0,get:function(){return e[s]}})}})),r.default=e,Object.freeze(r)}const r=require("fs"),s=require("path"),{renderToString:t}=(require("@babel/core"),require("react"),require("react-dom/server"));let n=s.join(process.cwd(),".build"),i=s.join(n,"lib","template.html"),o=s.join(n,"lib","wrapper.js"),a=s.join(n,"lib","hydrate.js");var c=async(c,l,u)=>{try{console.log("data","cwd",process.cwd(),"__dirname",__dirname,"options",l);let p=r.readFileSync(i).toString(),d=require(o),g=(r.readFileSync(a).toString(),s.relative(process.cwd(),c)),f=s.join(n,"views",g),v=await Promise.resolve().then((function(){return e(require(f))})).then((e=>e.default));console.log("Content",v);let b=l,h=process.env.VERCEL_URL||process.env.URL||"vixaliendotio.vercel.app";h=h.startsWith("localhost")?"http://"+h:"https://"+h;let m=t(d(v,b));return m=p.replace("\x3c!-- canonical-url --\x3e",h).replace("\x3c!-- server-props --\x3e",JSON.stringify(b)).replace("\x3c!-- component-placeholder --\x3e",m).replace("\x3c!-- hydrate-path --\x3e",g),u(null,m)}catch(e){return u(e)}},l=require("fs"),u=require("path");let p=(e,r,s)=>{l.readFile(e,(function(e,r){if(e)return s(e);var t=r.toString();return s(null,t)}))};var d=require("express"),g=require("fs"),f=require("path"),v=(require("fs"),require("path")),b=require("express");process.env.NODE_ENV=process.env.VERCEL_ENV||process.env.NODE_ENV||"production";var h=(e,r)=>{((e,r)=>{var s=f.join(process.cwd(),"controllers"),t=r.verbose;g.readdirSync(s).forEach((function(r){var n=f.join(s,r);if(g.statSync(n).isDirectory()||g.statSync(n).isFile()){g.statSync(n).isFile()&&(n=n.replace(new RegExp(f.extname(n)+"$"),""),r=r.replace(new RegExp(f.extname(r)+"$"),"")),t&&console.log("\n   %s:",r);var i,o,a,c=require(n),l=(r=c.name||r,c.prefix||""),u=d();for(var p in c.engine&&u.set("view engine",c.engine),u.set("views",f.join(process.cwd(),"views",r)),c){if(~["name","prefix","engine","before","after"].indexOf(p))continue;switch(p){case"show":o="get",a="/"+r+"/:"+r+"_id";break;case"list":o="get",a="/"+r+"s";break;case"edit":o="get",a="/"+r+"/:"+r+"_id/edit";break;case"update":o="put",a="/"+r+"/:"+r+"_id";break;case"create":o="post",a="/"+r;break;case"index":o="get",a="/";break;default:throw new Error("unrecognized route: "+r+"."+p)}i=c[p],a=l+a;let e=`     %s %s -> ${c.before?"before ->":""} %s ${c.after?"-> after":""}`,s=i;c.after&&(i=(...e)=>{s(...e),c.after()}),c.before?(u[o](a,c.before,i),t&&console.log(e,o.toUpperCase(),a,p)):(u[o](a,i),t&&console.log(e,o.toUpperCase(),a,p))}e.use(u)}}))})(e,r),(e=>{e.use(b.static(v.join(process.cwd(),"public/"))),e.use("/lib/",b.static(v.join(process.cwd(),".build/lib/"))),e.use("/views/",b.static(v.join(process.cwd(),".build/views/")))})(e)},m=require("express"),w=require("morgan"),x=require("path"),j=require("express-session"),q=require("compression"),y=module.exports=m();y.use(q()),y.response.message=function(e){var r=this.req.session;return r.messages=r.messages||[],r.messages.push(e),this},module.parent||y.use(w("dev")),y.use(m.static(x.join(process.cwd(),"public"))),y.use(j({resave:!1,saveUninitialized:!1,secret:"some secret here"})),y.use(m.urlencoded({extended:!0})),y.use((function(e,r,s){var t=e.session.messages||[];r.locals.messages=t,r.locals.hasMessages=!!t.length,s(),e.session.messages=[]})),((e,r)=>{process.browser=!1,console.log("\nPanther v1.0 booting\nInitializing..."),(e=>{e.engine("html",p),e.engine("ejs",p),e.engine("hbs",p),e.engine("js",c),e.engine("jsx",c),e.set("view engine","js"),e.set("views",u.join(process.cwd(),"views","default"))})(e),h(e,r)})(y,{verbose:!module.parent}),y.use((function(e,r,s,t){module.parent||console.error(e.stack),s.status(500).render("5xx",{name:e.name,stack:e.stack,message:e.message})})),y.get("/offline",((e,r)=>{r.status(200),r.render("offline")})),y.use((function(e,r,s){r.status(404).render("404",{url:e.originalUrl})})),y.listen(4e3),console.log("Panther is ready on port 4000");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL2NvbmZpZy92aWV3cy9yZWFjdC5qcyIsIi4uLy4uL2NvbmZpZy92aWV3cy5qcyIsIi4uLy4uL2NvbmZpZy9ib290LmpzIiwiLi4vLi4vY29uZmlnL3JvdXRlcy9tdmMuanMiLCIuLi8uLi9jb25maWcvcm91dGVzL3N0YXRpYy5qcyIsIi4uLy4uL2NvbmZpZy9yb3V0ZXMvaW5kZXguanMiLCIuLi8uLi9pbmRleC5qcyIsIi4uLy4uL2NvbmZpZy9pbml0LmpzIl0sInNvdXJjZXNDb250ZW50IjpudWxsLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwicmVuZGVyVG9TdHJpbmciLCJidWlsZFBhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsInRlbXBsYXRlUGF0aCIsIndyYXBwZXJQYXRoIiwiaHlkcmF0ZVBhdGgiLCJmaWxlUGF0aCIsIm9wdGlvbnMiLCJjYWxsYmFjayIsImNvbnNvbGUiLCJsb2ciLCJfX2Rpcm5hbWUiLCJ0ZW1wbGF0ZSIsInJlYWRGaWxlU3luYyIsInRvU3RyaW5nIiwiV3JhcHBlciIsInNyYyIsInJlbGF0aXZlIiwiYnVpbGRTcmMiLCJDb250ZW50IiwiUHJvbWlzZSIsInRoZW4iLCJlIiwiZGVmYXVsdCIsInByb3BzIiwiZGVwbG95X3VybCIsImVudiIsIlZFUkNFTF9VUkwiLCJVUkwiLCJzdGFydHNXaXRoIiwicmVuZGVyZWQiLCJyZXBsYWNlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVyciIsInNlcnZlIiwicmVhZEZpbGUiLCJjb250ZW50IiwiZXhwcmVzcyIsIk5PREVfRU5WIiwiVkVSQ0VMX0VOViIsImFwcCIsInBhcmVudCIsImRpciIsInZlcmJvc2UiLCJyZWFkZGlyU3luYyIsImZvckVhY2giLCJuYW1lIiwiZmlsZSIsInN0YXRTeW5jIiwiaXNEaXJlY3RvcnkiLCJpc0ZpbGUiLCJSZWdFeHAiLCJleHRuYW1lIiwiaGFuZGxlciIsIm1ldGhvZCIsInVybCIsIm9iaiIsInByZWZpeCIsImtleSIsImVuZ2luZSIsInNldCIsImluZGV4T2YiLCJFcnJvciIsInN0cmluZyIsImJlZm9yZSIsImFmdGVyIiwib2xkSGFuZGxlciIsImFyZ3MiLCJ0b1VwcGVyQ2FzZSIsInVzZSIsIm12Y1JvdXRlcyIsInN0YXRpYyIsInN0YXRpY1JvdXRlcyIsImxvZ2dlciIsInNlc3Npb24iLCJjb21wcmVzc2lvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJtc2ciLCJzZXNzIiwidGhpcyIsInJlcSIsIm1lc3NhZ2VzIiwicHVzaCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwic2VjcmV0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwicmVzIiwibmV4dCIsIm1zZ3MiLCJsb2NhbHMiLCJoYXNNZXNzYWdlcyIsImxlbmd0aCIsImJyb3dzZXIiLCJyZWFjdCIsInZpZXdzIiwicm91dGVzIiwiaW5pdCIsImVycm9yIiwic3RhY2siLCJzdGF0dXMiLCJyZW5kZXIiLCJnZXQiLCJvcmlnaW5hbFVybCIsImxpc3RlbiJdLCJtYXBwaW5ncyI6IjRTQUFBLE1BQU1BLEVBQUtDLFFBQVEsTUFDYkMsRUFBT0QsUUFBUSxTQUlmRSxlQUFFQSxJQUZNRixRQUFRLGVBQ1JBLFFBQVEsU0FDS0EsUUFBUSxxQkFFbkMsSUFBSUcsRUFBWUYsRUFBS0csS0FBS0MsUUFBUUMsTUFBTyxVQUNyQ0MsRUFBZU4sRUFBS0csS0FBS0QsRUFBVyxNQUFPLGlCQUMzQ0ssRUFBY1AsRUFBS0csS0FBS0QsRUFBVyxNQUFPLGNBQzFDTSxFQUFjUixFQUFLRyxLQUFLRCxFQUFXLE1BQU8sY0FFOUMsWUFBc0JPLEVBQVVDLEVBQVNDLFNBR3ZDQyxRQUFRQyxJQUFJLE9BQVEsTUFBT1QsUUFBUUMsTUFBTyxZQUFhUyxVQUFXLFVBQVdKLE9BR3pFSyxFQUFXakIsRUFBR2tCLGFBQWFWLEdBQWNXLFdBQ3pDQyxFQUFVbkIsUUFBUVEsR0FJbEJZLEdBSFVyQixFQUFHa0IsYUFBYVIsR0FBYVMsV0FH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
