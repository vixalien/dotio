"use strict";function e(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(s){if("default"!==s){var t=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,t.get?t:{enumerable:!0,get:function(){return e[s]}})}})),r.default=e,Object.freeze(r)}const r=require("fs"),s=require("path"),{renderToString:t}=(require("@babel/core"),require("react"),require("react-dom/server"));let n=s.join(process.cwd(),".build"),i=s.join(n,"lib","template.html"),o=s.join(n,"lib","wrapper.js"),a=s.join(n,"lib","hydrate.js");var c=async(c,l,u)=>{try{let p=r.readFileSync(i).toString(),d=require(o),f=(r.readFileSync(a).toString(),s.relative(process.cwd(),c)),g=s.join(n,"views",f),v=await Promise.resolve().then((function(){return e(require(g))})).then((e=>e.default));console.log("Content",v);let b=l,h=process.env.VERCEL_URL||process.env.URL||"vixaliendotio.vercel.app";h=h.startsWith("localhost")?"http://"+h:"https://"+h;let m=t(d(v,b));return m=p.replace("\x3c!-- canonical-url --\x3e",h).replace("\x3c!-- server-props --\x3e",JSON.stringify(b)).replace("\x3c!-- component-placeholder --\x3e",m).replace("\x3c!-- hydrate-path --\x3e",f),u(null,m)}catch(e){return u(e)}},l=require("fs"),u=require("path");let p=(e,r,s)=>{l.readFile(e,(function(e,r){if(e)return s(e);var t=r.toString();return s(null,t)}))};var d=require("express"),f=require("fs"),g=require("path"),v=(require("fs"),require("path")),b=require("express");process.env.NODE_ENV=process.env.VERCEL_ENV||process.env.NODE_ENV||"production";var h=(e,r)=>{((e,r)=>{var s=g.join(process.cwd(),"controllers"),t=r.verbose;f.readdirSync(s).forEach((function(r){var n=g.join(s,r);if(f.statSync(n).isDirectory()||f.statSync(n).isFile()){f.statSync(n).isFile()&&(n=n.replace(new RegExp(g.extname(n)+"$"),""),r=r.replace(new RegExp(g.extname(r)+"$"),"")),t&&console.log("\n   %s:",r);var i,o,a,c=require(n),l=(r=c.name||r,c.prefix||""),u=d();for(var p in c.engine&&u.set("view engine",c.engine),u.set("views",g.join(process.cwd(),"views",r)),c){if(~["name","prefix","engine","before","after"].indexOf(p))continue;switch(p){case"show":o="get",a="/"+r+"/:"+r+"_id";break;case"list":o="get",a="/"+r+"s";break;case"edit":o="get",a="/"+r+"/:"+r+"_id/edit";break;case"update":o="put",a="/"+r+"/:"+r+"_id";break;case"create":o="post",a="/"+r;break;case"index":o="get",a="/";break;default:throw new Error("unrecognized route: "+r+"."+p)}i=c[p],a=l+a;let e=`     %s %s -> ${c.before?"before ->":""} %s ${c.after?"-> after":""}`,s=i;c.after&&(i=(...e)=>{s(...e),c.after()}),c.before?(u[o](a,c.before,i),t&&console.log(e,o.toUpperCase(),a,p)):(u[o](a,i),t&&console.log(e,o.toUpperCase(),a,p))}e.use(u)}}))})(e,r),(e=>{e.use(b.static(v.join(process.cwd(),"public/"))),e.use("/lib/",b.static(v.join(process.cwd(),".build/lib/"))),e.use("/views/",b.static(v.join(process.cwd(),".build/views/")))})(e)},m=require("express"),w=require("morgan"),x=require("path"),j=require("express-session"),q=require("compression"),y=module.exports=m();y.use(q()),y.response.message=function(e){var r=this.req.session;return r.messages=r.messages||[],r.messages.push(e),this},module.parent||y.use(w("dev")),y.use(m.static(x.join(process.cwd(),"public"))),y.use(j({resave:!1,saveUninitialized:!1,secret:"some secret here"})),y.use(m.urlencoded({extended:!0})),y.use((function(e,r,s){var t=e.session.messages||[];r.locals.messages=t,r.locals.hasMessages=!!t.length,s(),e.session.messages=[]})),((e,r)=>{process.browser=!1,console.log("\nPanther v1.0 booting\nInitializing..."),(e=>{e.engine("html",p),e.engine("ejs",p),e.engine("hbs",p),e.engine("js",c),e.engine("jsx",c),e.set("view engine","js"),e.set("views",u.join(process.cwd(),"views","default"))})(e),h(e,r)})(y,{verbose:!module.parent}),y.use((function(e,r,s,t){module.parent||console.error(e.stack),s.status(500).render("5xx",{name:e.name,stack:e.stack,message:e.message})})),y.get("/offline",((e,r)=>{r.status(200),r.render("offline")})),y.use((function(e,r,s){r.status(404).render("404",{url:e.originalUrl})})),y.listen(4e3),console.log("Panther is ready on port 4000");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL2NvbmZpZy92aWV3cy9yZWFjdC5qcyIsIi4uL2NvbmZpZy92aWV3cy5qcyIsIi4uL2NvbmZpZy9ib290LmpzIiwiLi4vY29uZmlnL3JvdXRlcy9tdmMuanMiLCIuLi9jb25maWcvcm91dGVzL3N0YXRpYy5qcyIsIi4uL2NvbmZpZy9yb3V0ZXMvaW5kZXguanMiLCIuLi9pbmRleC5qcyIsIi4uL2NvbmZpZy9pbml0LmpzIl0sInNvdXJjZXNDb250ZW50IjpudWxsLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwicmVuZGVyVG9TdHJpbmciLCJidWlsZFBhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsInRlbXBsYXRlUGF0aCIsIndyYXBwZXJQYXRoIiwiaHlkcmF0ZVBhdGgiLCJmaWxlUGF0aCIsIm9wdGlvbnMiLCJjYWxsYmFjayIsInRlbXBsYXRlIiwicmVhZEZpbGVTeW5jIiwidG9TdHJpbmciLCJXcmFwcGVyIiwic3JjIiwicmVsYXRpdmUiLCJidWlsZFNyYyIsIkNvbnRlbnQiLCJQcm9taXNlIiwidGhlbiIsImUiLCJkZWZhdWx0IiwiY29uc29sZSIsImxvZyIsInByb3BzIiwiZGVwbG95X3VybCIsImVudiIsIlZFUkNFTF9VUkwiLCJVUkwiLCJzdGFydHNXaXRoIiwicmVuZGVyZWQiLCJyZXBsYWNlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVyciIsInNlcnZlIiwicmVhZEZpbGUiLCJjb250ZW50IiwiZXhwcmVzcyIsIk5PREVfRU5WIiwiVkVSQ0VMX0VOViIsImFwcCIsInBhcmVudCIsImRpciIsInZlcmJvc2UiLCJyZWFkZGlyU3luYyIsImZvckVhY2giLCJuYW1lIiwiZmlsZSIsInN0YXRTeW5jIiwiaXNEaXJlY3RvcnkiLCJpc0ZpbGUiLCJSZWdFeHAiLCJleHRuYW1lIiwiaGFuZGxlciIsIm1ldGhvZCIsInVybCIsIm9iaiIsInByZWZpeCIsImtleSIsImVuZ2luZSIsInNldCIsImluZGV4T2YiLCJFcnJvciIsInN0cmluZyIsImJlZm9yZSIsImFmdGVyIiwib2xkSGFuZGxlciIsImFyZ3MiLCJ0b1VwcGVyQ2FzZSIsInVzZSIsIm12Y1JvdXRlcyIsInN0YXRpYyIsInN0YXRpY1JvdXRlcyIsImxvZ2dlciIsInNlc3Npb24iLCJjb21wcmVzc2lvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJtc2ciLCJzZXNzIiwidGhpcyIsInJlcSIsIm1lc3NhZ2VzIiwicHVzaCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwic2VjcmV0IiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwicmVzIiwibmV4dCIsIm1zZ3MiLCJsb2NhbHMiLCJoYXNNZXNzYWdlcyIsImxlbmd0aCIsImJyb3dzZXIiLCJyZWFjdCIsInZpZXdzIiwicm91dGVzIiwiaW5pdCIsImVycm9yIiwic3RhY2siLCJzdGF0dXMiLCJyZW5kZXIiLCJnZXQiLCJvcmlnaW5hbFVybCIsImxpc3RlbiJdLCJtYXBwaW5ncyI6IjRTQUFBLE1BQU1BLEVBQUtDLFFBQVEsTUFDYkMsRUFBT0QsUUFBUSxTQUlmRSxlQUFFQSxJQUZNRixRQUFRLGVBQ1JBLFFBQVEsU0FDS0EsUUFBUSxxQkFFbkMsSUFBSUcsRUFBWUYsRUFBS0csS0FBS0MsUUFBUUMsTUFBTyxVQUNyQ0MsRUFBZU4sRUFBS0csS0FBS0QsRUFBVyxNQUFPLGlCQUMzQ0ssRUFBY1AsRUFBS0csS0FBS0QsRUFBVyxNQUFPLGNBQzFDTSxFQUFjUixFQUFLRyxLQUFLRCxFQUFXLE1BQU8sY0FFOUMsWUFBc0JPLEVBQVVDLEVBQVNDLGFBR25DQyxFQUFXZCxFQUFHZSxhQUFhUCxHQUFjUSxXQUN6Q0MsRUFBVWhCLFFBQVFRLEdBSWxCUyxHQUhVbEIsRUFBR2UsYUFBYUwsR0FBYU0sV0FHakNkLEVBQUtpQixTQUFTYixRQUFRQyxNQUFPSSxJQUNuQ1MsRUFBV2xCLEVBQUtHLEtBQUtELEVBQVcsUUFBU2MsR0FDekNHLFFBQWdCQyxvREFBT0YsT0FBVUcsTUFB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
